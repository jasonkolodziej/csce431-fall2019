<div class ="jumbotron">
    <h1>User Emails</h1>
</div>
<%= form_for :subset, url: { controller: 'users', action: 'generate_email_list' }, method: :get do |f| %>
    <table class="table table-striped", style="width:75%; text-align:center;">
        <tr>
            <td>Membership Type:</td>
            <% @names.each do |m| %>
                <td><%= m %></td><td><%= f.check_box "memberships", { multiple: true, checked: @memberships.nil? || @memberships.include?(m) }, m, false %></td>
            <% end %>
        </tr>
        <tr>
            <td><%= f.submit 'Generate', class:"btn btn-primary" %></td>
        </tr>
    </table>
    <br />
    <table class = "table table-striped table-bordered table-hover", style="width: 75%;">
        <tr>
            <th>Email</th>
            <th>Name</th>
            <th>Type</th>
        </tr>
        <% @users.each do |u| %>
            <tr>
                <td><%= u.email %></td>
                <td><%= "#{u.first_name} #{u.last_name}" %></td>
                <td><%= u.membership %></td>
            </tr>
        <% end %>
    </table>
<% end %>

<br />
<div class="object-center">
    <%= button_to 'Back', user_path(@user.id), method: :get, class: "btn btn-primary" %>
</div>